[33mcommit 68237dab93cfbde049e8e51a8ffdc5ba8f7f3422[m
Author: ä½ çš„GitHubç”¨æˆ·å <ä½ çš„GitHubå…³è”é‚®ç®±>
Date:   Mon Oct 20 11:09:40 2025 +0800

    feat: å¢å¼ºåˆ†è¯ŠåŠŸèƒ½ï¼Œæ·»åŠ ç§‘å®¤è¯¢é—®æŒ‡å¯¼å’ŒåŠ¨æ€æ›´æ–°æœºåˆ¶

[1mdiff --git a/agent_system/inquirer/agent.py b/agent_system/inquirer/agent.py[m
[1mindex 743cbcf..3961db5 100755[m
[1m--- a/agent_system/inquirer/agent.py[m
[1m+++ b/agent_system/inquirer/agent.py[m
[36m@@ -21,7 +21,7 @@[m [mclass Inquirer(BaseAgent):[m
         llm_config (dict): LLMæ¨¡å‹é…ç½®å‚æ•°[m
     """[m
     [m
[31m-    def __init__(self, description: str, instructions: list, model_type: str = "gpt-oss:latest", llm_config: dict = None):[m
[32m+[m[32m    def __init__(self, description: str, instructions: list, model_type: str = "gpt-oss:latest", llm_config: dict = None, department_inquiry_guidance: str = ""):[m
         """[m
         åˆå§‹åŒ–Inquireræ™ºèƒ½ä½“[m
         [m
[36m@@ -30,7 +30,9 @@[m [mclass Inquirer(BaseAgent):[m
             instructions (list): ç”±Prompterç”Ÿæˆçš„æŒ‡ä»¤åˆ—è¡¨[m
             model_type (str): å¤§è¯­è¨€æ¨¡å‹ç±»å‹ï¼Œé»˜è®¤ä½¿ç”¨ gpt-oss:latest[m
             llm_config (dict): LLMæ¨¡å‹çš„é…ç½®å‚æ•°ï¼Œå¦‚æœä¸ºNoneåˆ™ä½¿ç”¨é»˜è®¤é…ç½®[m
[32m+[m[32m            department_inquiry_guidance (str): ç§‘å®¤è¯¢é—®æŒ‡å¯¼ï¼Œç”¨äºä¼˜åŒ–é—®è¯Šé—®é¢˜ç”Ÿæˆ[m
         """[m
[32m+[m[32m        self.department_inquiry_guidance = department_inquiry_guidance[m
         # å°†Prompterç”Ÿæˆçš„æŒ‡ä»¤ä¸å›ºå®šæ ¼å¼æŒ‡ä»¤æ‹¼æ¥[m
         complete_instructions = instructions.copy()[m
         complete_instructions.extend(InquirerPrompt.get_fixed_format_instructions())[m
[36m@@ -110,5 +112,8 @@[m [mclass Inquirer(BaseAgent):[m
 [m
 è¯·ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°JSONæ ¼å¼è¾“å‡ºã€‚[m
 è¾“å‡ºå†…å®¹ä¸º:"""[m
[31m-        [m
[32m+[m[32m        # æ·»åŠ ç§‘å®¤ç‰¹å®šçš„è¯¢é—®æŒ‡å¯¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰[m
[32m+[m[32m        if self.department_guidance:[m
[32m+[m[32m            prompt += f"\nç§‘å®¤è¯¢é—®æŒ‡å¯¼ï¼š\n{self.department_guidance}\n"[m
[32m+[m[32m            prompt += "ä¼˜å…ˆè€ƒè™‘ç§‘å®¤è¯¢é—®æŒ‡å¯¼ä¸­çš„å»ºè®®ã€‚\n"[m
         return prompt[m
\ No newline at end of file[m
[1mdiff --git a/guidance/loader.py b/guidance/loader.py[m
[1mindex 14d71e3..6671f07 100755[m
[1m--- a/guidance/loader.py[m
[1m+++ b/guidance/loader.py[m
[36m@@ -58,158 +58,28 @@[m [mclass GuidanceLoader:[m
         [m
         self._initialized = True[m
     [m
[31m-    def _should_reload(self, cache_key: str) -> bool:[m
[31m-        """[m
[31m-        æ£€æŸ¥æ˜¯å¦åº”è¯¥é‡æ–°åŠ è½½ç¼“å­˜[m
[31m-        [m
[31m-        Args:[m
[31m-            cache_key: ç¼“å­˜é”®å[m
[31m-            [m
[31m-        Returns:[m
[31m-            bool: å¦‚æœåº”è¯¥é‡æ–°åŠ è½½è¿”å›Trueï¼Œå¦åˆ™è¿”å›False[m
[31m-        """[m
[31m-        # å¦‚æœç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼Œéœ€è¦åŠ è½½[m
[31m-        if cache_key not in self._cache:[m
[31m-            return True[m
[31m-            [m
[31m-        # å¦‚æœæ–‡ä»¶è¢«ä¿®æ”¹ï¼Œéœ€è¦é‡æ–°åŠ è½½[m
[31m-        file_path = self.file_paths.get(cache_key)[m
[31m-        if not file_path or not os.path.exists(file_path):[m
[31m-            return False[m
[31m-            [m
[31m-        # æ£€æŸ¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ˜¯å¦æ™šäºç¼“å­˜æ—¶é—´[m
[31m-        file_mtime = os.path.getmtime(file_path)[m
[31m-        cache_time = self._cache_timestamp.get(cache_key, 0)[m
[31m-        if file_mtime > cache_time:[m
[31m-            return True[m
[31m-            [m
[31m-        # æ£€æŸ¥ç¼“å­˜æ˜¯å¦è¿‡æœŸ[m
[31m-        current_time = time.time()[m
[31m-        if current_time - cache_time > self.CACHE_TTL:[m
[31m-            return True[m
[31m-            [m
[31m-        return False[m
[31m-    [m
[31m-    def _load_json_file(self, file_path: str) -> Dict[str, Any]:[m
[31m-        """[m
[31m-        ä»JSONæ–‡ä»¶åŠ è½½æ•°æ®[m
[31m-        [m
[31m-        Args:[m
[31m-            file_path: JSONæ–‡ä»¶è·¯å¾„[m
[31m-            [m
[31m-   